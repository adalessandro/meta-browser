From 2a832d768b488d0c774e128dac031a9daa97b42f Mon Sep 17 00:00:00 2001
From: Alexandros Frantzis <alexandros.frantzis@collabora.com>
Date: Mon, 7 Oct 2024 10:12:26 +0300
Subject: [PATCH 06/14] media/gpu/chromeos: Prefer the v4l2 image processor if
 available

---
 media/gpu/chromeos/image_processor_factory.cc | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/media/gpu/chromeos/image_processor_factory.cc b/media/gpu/chromeos/image_processor_factory.cc
index 4b830d3cd5..c04645a85e 100644
--- a/media/gpu/chromeos/image_processor_factory.cc
+++ b/media/gpu/chromeos/image_processor_factory.cc
@@ -326,15 +326,15 @@ ImageProcessorFactory::CreateWithInputCandidates(
   }
 #endif  // defined(ARCH_CPU_ARM_FAMILY)
 
-  auto processor = CreateLibYUVImageProcessorWithInputCandidates(
-      input_candidates, input_visible_rect, output_size, output_storage_type,
+  auto processor = CreateV4L2ImageProcessorWithInputCandidates(
+      input_candidates, input_visible_rect, output_storage_type, num_buffers,
       client_task_runner, out_format_picker, error_cb);
   if (processor) {
     return processor;
   }
 
-  processor = CreateV4L2ImageProcessorWithInputCandidates(
-      input_candidates, input_visible_rect, output_storage_type, num_buffers,
+  processor = CreateLibYUVImageProcessorWithInputCandidates(
+      input_candidates, input_visible_rect, output_size, output_storage_type,
       client_task_runner, out_format_picker, error_cb);
   if (processor) {
     return processor;
-- 
2.45.2

